<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <title>Settings</title>
    </head>

    <body>
        <h1>Settings</h1>

        <textarea placeholder="Theme json" id="theme" style="height: 5rem; width: 25rem"></textarea>

        <script>
            let currentThemeName = scrollix.getCurrentThemeName();
            let currentTheme = JSON.parse(scrollix.getTheme(currentThemeName));

            const theme = document.querySelector("#theme");
            theme.value = JSON.stringify(currentTheme);
            theme.addEventListener("input", () => {
                try {
                    const json = JSON.parse(theme.value);
                    scrollix.setThemeData(currentThemeName, theme.value);
                } catch(e) {
                    console.error("invalid theme json! " + e.message);
                }
            });
        </script>
    </body>
</html>